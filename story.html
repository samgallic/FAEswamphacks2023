<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=VT323&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="./style.css">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Into the Unknown</title>
  </head>
  <body>
    <p id="story">You see a house.</p>
    <button id="left">Go Inside</button>
    <button id="right">Stay Outside</button>
    <button id="righter"></button>
    <style>
      body {
        background-image: url('./img/You-see-a-house.jpg');
        background-repeat: no-repeat;
        background-position-x: center;
      }
      </style>

    <script>
      const story = document.querySelector("#story");
      const leftBtn = document.querySelector("#left");
      const rightBtn = document.querySelector("#right");
      const righterBtn = document.querySelector("#righter");
      let currentSlide = 0;
      let granola = false;
      let knife = false;
      let keys = false;
      let image_path = "url('./img/Inside-of-house-hallway.jpg')";

      function setBackground() {
        document.body.style.backgroundImage = image_path
        document.body.style.backgroundPosition = "top center";
      }
      
      if (currentSlide == 0)
        righterBtn.style.display = "none";

      leftBtn.addEventListener("click", function() {
        if (currentSlide == 0) {
          granola = false;
          storySlides[6][0] = "You ate some beans. You even took a granola bar with you!";
          knife = false;
          storySlides[7][0] = "You got a knife."
          keys = false;
          storySlides[9][0] = "You found a set of car keys."
        }

        currentSlide = storySlides[currentSlide][2];

        // Redirect to index if you die
        if (currentSlide == 0)
          window.location.replace("./index.html")

        slideData = storySlides[currentSlide];
        image_path = imageSlides[currentSlide];
        setBackground();

        story.innerHTML = slideData[0];
        leftBtn.innerHTML = slideData[1];
        rightBtn.innerHTML = "";
        righterBtn.innerHTML = "";

        // Do not show button if button is empty
        if ((rightBtn.value == "") && (currentSlide != 0))
          rightBtn.style.display = "none";
        if (righterBtn.value == "")
          righterBtn.style.display = "none";   

        if (slideData.length > 3) {
          rightBtn.innerHTML = slideData[3];
          rightBtn.style.display = "";
        }
        if (slideData.length > 5){
          righterBtn.innerHTML = slideData[5];
          righterBtn.style.display = "";
        }

        if (currentSlide == 5 && keys) {
          rightBtn.innerHTML = "Use your car keys to unlock the car.";
          rightBtn.style.display = "";
        }
        if (currentSlide == 24 && granola) {
          rightBtn.innerHTML = "Eat your granola bar!";
          rightBtn.style.display = "";
        }
        if (currentSlide == 29 && knife) {
          rightBtn.innerHTML = "Fight them off with your knife.";
          rightBtn.style.display = "";
        }
        if (currentSlide == 33 && knife) {
          rightBtn.innerHTML = "Free Marlo with you knife.";
          rightBtn.style.display = "";
        }
        if (currentSlide == 6) {
          granola = true;
          storySlides[currentSlide][0] = "You already took the granola bar.";
        }
        else if (currentSlide == 7) {
          knife = true;
          storySlides[currentSlide][0] = "You already took the knife.";
        }
        else if (currentSlide == 9) {
          keys = true;
          storySlides[currentSlide][0] = "You already took the keys.";
        }

      });

      rightBtn.addEventListener("click", function() {
        if (currentSlide == 0) {
          granola = false;
          storySlides[6][0] = "You ate some beans. You even took a granola bar with you!";
          knife = false;
          storySlides[7][0] = "You got a knife."
          keys = false;
          storySlides[9][0] = "You found a set of car keys."
        }
        if (storySlides[currentSlide].length > 3) {
          currentSlide = storySlides[currentSlide][4];
          image_path = imageSlides[currentSlide];
          setBackground();
        }

        else if (currentSlide == 5 && keys)
          currentSlide = 12;
        else if (currentSlide == 24 && granola)
          currentSlide = 26;
        else if (currentSlide == 29 && knife)
          currentSlide = 30;
        else if (currentSlide == 33 && knife)
          currentSlide = 35;

        slideData = storySlides[currentSlide];
        story.innerHTML = slideData[0];
        leftBtn.innerHTML = slideData[1];
        rightBtn.innerHTML = "";
        righterBtn.innerHTML = "";

        // Do not show button if button is empty
        if ((rightBtn.value == "") && (currentSlide != 0))
          rightBtn.style.display = "none";
        if (righterBtn.value == "")
          righterBtn.style.display = "none";   

        if (slideData.length > 3) {
          rightBtn.innerHTML = slideData[3];
          rightBtn.style.display = "";
        }
        if (slideData.length > 5){
          righterBtn.innerHTML = slideData[5];
          righterBtn.style.display = "";
        }

        if (currentSlide == 5 && keys) {
          rightBtn.innerHTML = "Use your car keys to unlock the car.";
          rightBtn.style.display = "";
        }
        if (currentSlide == 24 && granola) {
          rightBtn.innerHTML = "Eat your granola bar!";
          rightBtn.style.display = "";
        }
        if (currentSlide == 29 && knife) {
          rightBtn.innerHTML = "Fight them off with your knife.";
          rightBtn.style.display = "";
        }
        if (currentSlide == 33 && knife) {
          rightBtn.innerHTML = "Free Marlo with you knife.";
          rightBtn.style.display = "";
        }
        if (currentSlide == 6) {
          granola = true;
          storySlides[currentSlide][0] = "You already took the granola bar.";
        }
        else if (currentSlide == 7) {
          knife = true;
          storySlides[currentSlide][0] = "You already took the knife.";
        }
        else if (currentSlide == 9) {
          keys = true;
          storySlides[currentSlide][0] = "You already took the keys.";
        }
      });

      righterBtn.addEventListener("click", function() {
        if (currentSlide == 0) {
          granola = false;
          storySlides[6][0] = "You ate some beans. You even took a granola bar with you!";
          knife = false;
          storySlides[7][0] = "You got a knife."
          keys = false;
          storySlides[9][0] = "You found a set of car keys."
        }
        if (storySlides[currentSlide].length > 5) {
          currentSlide = storySlides[currentSlide][6];
          image_path = imageSlides[currentSlide];
          setBackground();
        }

        slideData = storySlides[currentSlide];
        story.innerHTML = slideData[0];
        leftBtn.innerHTML = slideData[1];
        rightBtn.innerHTML = "";
        righterBtn.innerHTML = "";

        // Do not show button if button is empty
        if ((rightBtn.value == "") && (currentSlide != 0))
          rightBtn.style.display = "none";
        if (righterBtn.value == "")
          righterBtn.style.display = "none";   

        if (slideData.length > 3) {
          rightBtn.innerHTML = slideData[3];
          rightBtn.style.display = "";
        }
        if (slideData.length > 5){
          righterBtn.innerHTML = slideData[5];
          righterBtn.style.display = "";
        }

        if (currentSlide == 5 && keys) {
          rightBtn.innerHTML = "Use your car keys to unlock the car.";
          rightBtn.style.display = "";
        }
        if (currentSlide == 24 && granola) {
          rightBtn.innerHTML = "Eat your granola bar!";
          rightBtn.style.display = "";
        }
        if (currentSlide == 29 && knife) {
          rightBtn.innerHTML = "Fight them off with your knife.";
          rightBtn.style.display = "";
        }
        if (currentSlide == 33 && knife) {
          rightBtn.innerHTML = "Free Marlo with you knife.";
          rightBtn.style.display = "";
        }
        if (currentSlide == 6) {
          granola = true;
          storySlides[currentSlide][0] = "You already took the granola bar.";
        }
        else if (currentSlide == 7) {
          knife = true;
          storySlides[currentSlide][0] = "You already took the knife.";
        }
        else if (currentSlide == 9) {
          keys = true;
          storySlides[currentSlide][0] = "You already took the keys.";
        }

      });

      const storySlides = [
        [ // you see a house 0
          "You wake up in an empty field and it’s cold outside. You see a house far off in the distance. Do you go in it?",
          "Go Inside",
          1,
          "Stay Outside",
          2
        ],
        [ // you are in the house 1
          "No one is home. The hallway branches off into two directions, which way do you go?",
          "Go Left",
          3,
          "Go Right",
          4,
          "Go Outside",
          5
        ],
        [ // you stayed outside 2
          "You froze to death. Game over.",
          "Try Again",
          0,
        ],
        [ // you went left in the house (into kitchen) 3
          "You entered the kitchen.",
          "Eat",
          6,
          "Search",
          7,
          "Go Back",
          1
        ],
        [ // you went right in the house (into bedroom) 4
          "You entered the bedroom.",
          "Search",
          9,
          "Sleep",
          10,
          "Go Back",
          1
        ],
        [ // you went outside of house (to car) 5
          "You look outside of the house and see a locked car.",
          "Go Back",
          1,
        ],
        [ // you ate in the kitchen 6
          "You ate some beans. You even took a granola bar with you!",
          "Return",
          3,
        ],
        [ // you searched in the kitchen 7
          "You got a knife. This could be important for later.",
          "Return",
          3,
        ],
        [
        ],
        [ // you search the bedroom 9
          "You found a set of car keys.",
          "Return",
          4
        ],
        [ // you slept in the bedroom 10
          "You drift into a deep sleep, but are woken up by some strange noise after only an hour.",
          "Return",
          4
        ],
        [
        ],
        [ // you drove the car away 12
          "You unlocked the car.",
          "Drive Away",
          13
        ],
        [ // you saw a person on the side of the road 13
          "You see a person on the side of the road. They look distressed.",
          "Stop and talk to them",
          14
        ],
        [ // they also woke up in the middle of the field 14
          "The person’s name is Marlo. He explains to you that he also woke up in the middle of the field with no memory of how he got there. Do you want to give him a ride?",
          "Drive on without them",
          15,
          "Let him in",
          16,
        ],
        [ // you left the dude in the dust lol 15
          "A deer sprints into the middle of the road. You veer off to avoid it but you crash the car fatally. Game Over.",
          "Try Again",
          0
        ],
        [ // you pulled over for the guy 16
          "Marlo warns you that a deer is incoming and you stop just in time to let it cross.",
          "Continue",
          20
        ],
        [
        ],
        [
        ],
        [
        ],
        [ // you ran out of gas 20
          "Then, you see a sign that says WOODBERRY 75 MI AWAY. However, just as you pass that sign, you run out of gas. You and Marlo see a light far off into the distance. It could be a gas station. What do you do?Then, you see a sign that says WOODBERRY 75 MI AWAY. However, just as you pass that sign, you run out of gas. You and Marlo see a light far off into the distance. It could be a gas station. Do you walk towards it?",
          "Yes",
          24,
          "No",
          22,
        ],
        [
        ],
        [ // you do not go towards the gas station light 22
          "You and Marlo both start to slowly levitate off the ground. You feel yourself start to drift off and close your eyes. Game over.",
          "Try Again",
          0
        ],
        [
        ],
        [ // the light disappears 24
          "You go towards the light but it disappears. Your stomach starts rumbling.",
          "Continue walking",
          25,
        ],
        [ // you pass out and die 25
          "You don’t have the energy to go back when you realize you should’ve eaten back at the house. Game over.",
          "Try Again",
          0
        ],
        [ // you didn't die because you were not hungry 26
          "You continue walking and eat your granola bar.",
          "Continue",
          27,
        ],
        [ // you start walking 27
          "You make your way towards the supposed gas station, but then the light lifts off the ground and starts flying towards you. You duck out of fear and when you get up, the light is gone.",
          "Continue",
          29,
        ],
        [ 
        ],
        [ // creatures appear in front 29
          "You go back to the car to check on Marlo, but he’s gone. Then, you notice some strange creatures in front of you. Terrified, you realize they must be aliens.",
          "Run away",
          32,
        ],
        [ // you fight them off (knife) 30
          "You are able to defeat all of the aliens. However, you start to levitate and drift off into a deep sleep.",
          "Continue",
          33
        ],
        [
        ],
        [ // you run away from the aliens!!!!!! 32
          "You tried running away, you start to levitate and drift off into a deep sleep.",
          "Continue",
          33,
        ],
        [ // you wake up in a ufo and see your friend 33
          "When you wake up, you are in a strange, bright ship. In front of you, Marlo is tied up and is also asleep.",
          "Try to get him out without a knife",
          36,
        ],
        [
        ],
        [ // you free him with your knife 35
          "You free Marlo with the kinfe. You break into the control room and fight off the aliens flying the ship!",
          "Continue",
          38
        ],
        [ // you fail to free your friend more aliens come in 36
          "More aliens come in. You don't have time to save Marlo.",
          "Run",
          39
        ],
        [
        ],
        [ // land safely good ending 38
          "You and Marlo are able to land the ship safely! Congratulations!",
          "Play Again",
          0,
        ],
        [ // they kill your friend 39
          "As you run you watch the aliens kill Marlo.",
          "Fight off the aliens",
          40,
          "Continue runnning",
          42,
        ],
        [ // you kill some aliens after they kill your friend 40
          "You keep fighting some aliens and run to the control room as they overwhelm you.",
          "Try to take control of the ship",
          41
        ],
        [ // crash the ufo and you survive meh ending 41
          "You try to take control of the ship, but then you accidentally crash while fighting the aliens. However, you're able to escape the ship.",
          "Play Again",
          0
        ],
        [ // try to control ship they kill you 42
          "You run into the control room. The aliens quickly overpower you and kill you. Game Over.",
          "Play Again",
          0
        ]
      ]
      
      const imageSlides = [
        ["url('./img/You-see-a-house.jpg')"],  //0,
        ["url('./img/Inside-of-house-hallway.jpg')"], //1
        [], //2
        ["url('./img/Night-Kitchen.jpg')"], //3
        ["url('./img/Night-bedroom.jpg')"], //4
        ["url('./img/locked-car-parked.jpg')"], //5
        ["url('./img/Night-Kitchen.jpg')"], //6
        ["url('./img/Night-Kitchen.jpg')"], //7
        [], //8
        ["url('./img/Night-bedroom.jpg')"], //9
        ["url('./img/Sleep-in-Bedroom.jpg')"], //10
        [], //11
        ["url('./img/locked-car-parked.jpg')"], //12
        ["url('./img/You-see-a-person-on-the-road.jpg')"], //13
        ["url('./img/You-see-a-person-on-the-road.jpg')"], //14
        ["url('./img/See-a-deer-and-rear-off-and-game-end.JPG')"], //15
        ["url('./img/Talking-to-the person-and-figuring-out-to-be-careful-of-deers.jpg')"], //16
        [], //17
        [], //18
        [], //19
        ["url('./img/See-a-light-in-a-distance.jpg')"], //20
        [], //21
        ["url('./img/Start-Levitating-and die.jpg')"], //22
        [], //23
        ["url('./img/light-disappears.jpg')"], //24
        ["url('./img/game_over.jpg')"], //25
        ["url('./img/Start Walking in the-field.jpg')"], //26
        ["url('./img/ufo-sighting.jpg')"], //27
        [], //28
        ["url('./img/Alien-appear-in-front-of-you.jpg')"], //29
        ["url('./img/Alien-abducts-you.jpg')"], //30
        [], //31
        ["url('./img/Alien-abducts-you.jpg')"], //32
        ["url('./img/spaceship-interior.jpg')"], //33
        [], //34
        ["url('./img/spaceship-interior-blue-light.jpg')"], //35
        ["url('./img/spaceship-interior.jpg')"], //36
        [], //37
        ["url('./img/Land-safely-you-live-happi-and-Meh-ending.jpg')"], //38
        ["url('./img/spaceship-interior.jpg')"], //39
        ["url('./img/spaceship-interior-blue-light.jpg')"], //40
        ["url('./img/spaceship-interior-blue-light.jpg')"], //41
        ["url('./img/spaceship-interior-blue-light.jpg')"], //42
      ]
    </script>
  </body>